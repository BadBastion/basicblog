{"version":3,"sources":["ContentElement.js"],"names":["PostsList","props","posts","map","post","title","id","PostsView","filter","event","target","value","created","content","remove","location","href","debounce","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","ContentElement","state","update","bind","debouncedFilter","$","get","setState","term","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"all.js","sourcesContent":["\n//PostsList.js\nconst PostsList = function(props){\n  return (\n    <div>\n      {props.posts\n        .map(post =>\n          <div className=\"listpost\">\n\n            <div className=\"float-left padded-left\">\n              {post.title}\n            </div>\n\n            <div className=\"float-right padded-right\">\n              Post #: {post.id+1}\n            </div>\n          </div>)\n      }\n    </div>\n  )\n};\n\n//PostsView.js\nconst PostsView = function(props){\n  return (\n    <div id=\"posts-view\" className=\"float-right\">\n\n      <div id=\"search\">\n        <form>\n          Search By Title :\n          <input type=\"text\" name=\"search\"\n                 onChange={event => props.filter(event.target.value)} />\n        </form>\n      </div>\n\n      {props.posts\n        .map(post =>\n          <div className=\"post\" key={post.id}>\n\n            <div className=\"header centered\">\n              {post.title}\n            </div>\n\n            <div className=\"date centered\">\n              Created : {post.created}\n            </div>\n\n            <div className=\"content\">\n              {post.content}\n            </div>\n\n            <div className=\"buttons\">\n\n              <div className=\"float-right padded-right\">\n                <button onClick={e => props.remove(post.id)}>\n                  remove\n                </button>\n              </div>\n\n              <div className=\"float-right padded-right\">\n                <button onClick={_ => location.href = \"/posts/edit/\"+post.id }>\n                  Edit\n                </button>\n              </div>\n\n            </div>\n\n          </div>)\n      }\n\n    </div>\n  );\n};\n\n//ContentElement.js\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function() {\n    var context = this, args = arguments;\n    var later = function() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\n\n\nclass ContentElement extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      posts: []\n    };\n\n    //I really dislike this about react >.<\n    this.update = this.update.bind(this);\n    this.remove = this.remove.bind(this);\n    this.filter = this.filter.bind(this);\n    this.debouncedFilter = this.filter.bind(this);\n\n    this.update();\n  }\n\n  update(){\n    $.get(\"/api/posts/\", (posts) => {\n      this.setState({posts: posts});\n    })\n  }\n\n  filter(term){\n    if(!term){\n      this.update();\n    }else {\n      $.get(\"/api/posts/filter/\" + (term || \" \"), (posts) => {\n        this.setState({posts: posts});\n      })\n    }\n  }\n\n  debouncedFilter(term){\n    //avoid spamming get requests\n    debounce(event => this.filter(term), 500, true)\n  }\n\n  remove(id) {\n    $.get(\"/api/posts/remove/\"+id, (posts) => {\n      this.setState({posts: posts});\n    })\n  }\n\n  render() {\n    return (\n      <div id=\"content\">\n        <div id=\"posts-list\" className=\"float-left\">\n          <div className=\"header centered\">-- Past Posts --</div>\n          <PostsList posts={this.state.posts}/>\n        </div>\n        <PostsView\n          posts={this.state.posts}\n          remove={this.remove}\n          filter={this.debouncedFilter}\n          />\n      </div>\n    );\n  }\n\n}\n\nReactDOM.render(\n  <ContentElement />,\n  document.getElementById('content-element')\n);\n"]}